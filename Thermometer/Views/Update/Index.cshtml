@model ConfigViewModel

@{
  Layout = null;
}

<!DOCTYPE html>

<html>
<head>
  <title>title</title>
</head>
<body>
<div>
  <form id="send-form" action="#" n>

    <input type="text" id="message-textbox" />
    <button id="send-button" type="submit">Refresh</button>
  </form>
</div>
</body>
</html>
<script src="/lib/signalr/signalr.js"></script>
<script type="text/javascript">

  var sendForm = document.getElementById("send-form");
  var sendButton = document.getElementById("send-button");
  var messagesList = document.getElementById("messages-list");
  var messageTextBox = document.getElementById("message-textbox");

  var connection = new signalR.HubConnection("/hubs/update");

  connection.start().then(function () {
    messageTextBox.disabled = false;
    sendButton.disabled = false;
  });
  sendForm.addEventListener("submit",
    function() {
      var message = messageTextBox.value;
      messageTextBox.value = "";
      connection.send("Update", message);
    });
  

  var clickMe = document.getElementById("send-button");

  clickMe.addEventListener('click', function() {}, true);

  setInterval(function() {
      var event = new MouseEvent('click'),
        canceled = !clickMe.dispatchEvent(event);

      if (canceled) {
        console.log('Click event was canceled');
      }
    },
    @ViewBag.RefreshRate * 1000);
</script>